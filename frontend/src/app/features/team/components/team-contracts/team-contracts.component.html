<div class="container">
  <table mat-table [dataSource]="players">
    <ng-container matColumnDef="name" sticky>
      <th mat-header-cell *matHeaderCellDef>Player</th>
      <td mat-cell *matCellDef="let player">
        <a href="#">{{ player.name }}</a>
      </td>
      <td mat-footer-cell *matFooterCellDef>Total</td>
    </ng-container>

    <ng-container matColumnDef="positionNumber">
      <th mat-header-cell *matHeaderCellDef>POS</th>
      <td mat-cell *matCellDef="let player">
        {{ getPosition(player.positionNumber) }}
      </td>
      <td mat-footer-cell *matFooterCellDef></td>
    </ng-container>

    <ng-container matColumnDef="currentRating">
      <th mat-header-cell *matHeaderCellDef>CUR</th>
      <td mat-cell *matCellDef="let player">
        <img [src]="ratingColors(player.currentRating)" />
      </td>
      <td mat-footer-cell *matFooterCellDef></td>
    </ng-container>

    <ng-container matColumnDef="futureRating">
      <th mat-header-cell *matHeaderCellDef>POT</th>
      <td mat-cell *matCellDef="let player">
        <img [src]="ratingColors(player.futureRating)" />
      </td>
      <td mat-footer-cell *matFooterCellDef></td>
    </ng-container>

    <ng-container matColumnDef="age">
      <th mat-header-cell *matHeaderCellDef>AGE</th>
      <td mat-cell *matCellDef="let player">{{ player.age }}</td>
      <td mat-footer-cell *matFooterCellDef></td>
    </ng-container>

    <ng-container matColumnDef="contract1">
      <th mat-header-cell *matHeaderCellDef>2001</th>
      <td mat-cell *matCellDef="let player">
        {{ player.contract1 | currency : "USD" : "symbol" : "1.0" }}
      </td>
      <td
        mat-footer-cell
        *matFooterCellDef
        [ngStyle]="{
          color: getCapSpace(getTotalSalary(1)) < 0 ? 'red' : 'green'
        }"
      >
        {{
          getCapSpace(getTotalSalary(1)) | currency : "USD" : "symbol" : "1.0"
        }}
      </td>
    </ng-container>

    <ng-container matColumnDef="contract2">
      <th mat-header-cell *matHeaderCellDef>2002</th>
      <td mat-cell *matCellDef="let player">
        {{ player.contract2 | currency : "USD" : "symbol" : "1.0" }}
      </td>
      <td
        mat-footer-cell
        *matFooterCellDef
        [ngStyle]="{
          color: getCapSpace(getTotalSalary(2)) < 0 ? 'red' : 'green'
        }"
      >
        {{
          getCapSpace(getTotalSalary(2)) | currency : "USD" : "symbol" : "1.0"
        }}
      </td>
    </ng-container>

    <ng-container matColumnDef="contract3">
      <th mat-header-cell *matHeaderCellDef>2003</th>
      <td mat-cell *matCellDef="let player">
        {{ player.contract3 | currency : "USD" : "symbol" : "1.0" }}
      </td>
      <td
        mat-footer-cell
        *matFooterCellDef
        [ngStyle]="{
          color: getCapSpace(getTotalSalary(3)) < 0 ? 'red' : 'green'
        }"
      >
        {{
          getCapSpace(getTotalSalary(3)) | currency : "USD" : "symbol" : "1.0"
        }}
      </td>
    </ng-container>

    <ng-container matColumnDef="contract4">
      <th mat-header-cell *matHeaderCellDef>2004</th>
      <td mat-cell *matCellDef="let player">
        {{ player.contract4 | currency : "USD" : "symbol" : "1.0" }}
      </td>
      <td
        mat-footer-cell
        *matFooterCellDef
        [ngStyle]="{
          color: getCapSpace(getTotalSalary(4)) < 0 ? 'red' : 'green'
        }"
      >
        {{
          getCapSpace(getTotalSalary(4)) | currency : "USD" : "symbol" : "1.0"
        }}
      </td>
    </ng-container>

    <ng-container matColumnDef="contract5">
      <th mat-header-cell *matHeaderCellDef>2005</th>
      <td mat-cell *matCellDef="let player">
        {{ player.contract5 | currency : "USD" : "symbol" : "1.0" }}
      </td>
      <td
        mat-footer-cell
        *matFooterCellDef
        [ngStyle]="{
          color: getCapSpace(getTotalSalary(5)) < 0 ? 'red' : 'green'
        }"
      >
        {{
          getCapSpace(getTotalSalary(5)) | currency : "USD" : "symbol" : "1.0"
        }}
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    <tr mat-footer-row *matFooterRowDef="displayedColumns"></tr>
  </table>
</div>
